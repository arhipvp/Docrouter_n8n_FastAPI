# Docrouter FastAPI сервис

Локальный сервис FastAPI обеспечивает обработку PDF-файлов для n8n-пайплайна. Для корректной работы необходимы следующие зависимости и системные компоненты:

## Python-зависимости

Установите зависимости из `requirements.txt`. Список включает библиотеки для чтения текста (`PyMuPDF`, пакет `pymupdf`) и OCR (`ocrmypdf`).

```bash
pip install -r requirements.txt
```

## Системные требования

- **Tesseract OCR** версии 5.x или новее, добавленный в `PATH`. Для точности распознавания установите языковые пакеты `eng`, `deu`, `rus` (используются для OCR PDF-файлов).
- **Ghostscript** требуется пакетом `ocrmypdf` для оптимизации PDF.
- **(Опционально)** Если планируется использовать аппаратное ускорение, убедитесь в соответствии системных библиотек требованиям `ocrmypdf`.

## Запуск

```bash
uvicorn app:app --host 127.0.0.1 --port 8081 --reload
```

Перед запуском убедитесь, что каталоги `C:\Data\inbox` и `C:\Data\archive` доступны и содержат ожидаемую структуру.
